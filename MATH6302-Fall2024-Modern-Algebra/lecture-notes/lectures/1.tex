% TeX_root = ../main.tex

\chapter{}

\section{Internal Direct products}

Suppose $G$ is a group and $H, K \leqslant G$. Define \[
     HK = \{ hk  \ : \  h \in H, k \in K \}
\]

\begin{theorem}
  Suppose $|H|, |K| < \infty$, then $|HK| = \frac{|H||K|}{|H \cap K|}$.
\end{theorem}
\begin{proof}
   We write $HK = \cup_{h \in H}hK$. Then $h_1K  = h_2K$ if and only if $h_2^{-1}h_1 \in K$. This is equivalent to saying $h_2^{-1}h_2 \in H\cap K$. \textcolor{red}{verify}
\end{proof}

\begin{theorem}
   If $H, K \leqslant G$ then $HK \leqslant G$ if and only if $HK = KH$.
\end{theorem}

\begin{corollary}
If $H$ is a normal subgroup of $G$, then $HK \leqslant G$
\end{corollary}


\begin{theorem}
  If $H, K \leqslant G$, $|H|, |K| < \infty$, $H, K$ normal in $G$, and $H \cap K = \{ e \}$, then $HK \cong H \times K$. In this case $HK$ is called the internal direct product of $H$ and $K$.
\end{theorem}
\begin{proof}
  By the corollary, $HK \leqslant G$. Therefore consider the map $\phi: HK \to H \times K := hk \to (h, k)$. \begin{itemize}
    \item $\phi$ is well defined. We know that $|HK| = \frac{|H||K|}{|H \cap K|} = |H||K|$. Hence every element in $HK$ has a unique representation as $hk$. Thus we see that $\phi$ is well defined.
    \item $\phi$ is a homomorphism. Let $h_1k_1, h_2k_2 \in HK$. Want to show that $\phi(h_1k_1h_2k_2) = \phi(h_1k_1)\phi(h_2k_2) = (h_1, k_1)(h_2, k_2) = (h_1h_1, k_1k_2)$. Equilvalently we  want to show that $h_1k_1h_2k_2 = h_1h_2k_1k_2$, which is again equivalent to showing $hk = kh$ for all $h \in H, k \in K$. This is again equivalent to showing $[h, k] = h^{-1}k^{-1}hk = e$ for all $ h\in H, k \in K$.

      To see why $[h, k] = \{ e \}$. see that $[h, k] = h^{-1}(k^{-1}hk) = h^{-1}h^\prime \in H$ for some $ h^\prime \in H$. Similarly $[h, k] = (h^{-1}k^{-1}h) k = k^\prime k \in K$ for some $k^\prime \in K$. Both of these are by the normality of $H$ and $K$. But since we know that $H \cap K = \{ e \}$, we see that $[h, k] = e$ for all $h, k$. Hence we are done.
  \end{itemize}
\end{proof}
